<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" 
        "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
%globalent;
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
%xinclude;
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
%gnome-menus-C;

<!-- for translations, change lang to appropriate code -->
<!ENTITY language "en">
]>

<!-- =============Document Header ============================= -->
<article id="index" lang="&language;">

<articleinfo> 
	<title>Language Support Help</title>

	<authorgroup>

		<author> 
		  <firstname>Gunnar</firstname>
		  <surname>Hjalmarsson</surname>
		  <affiliation>
			<orgname>Ubuntu Documentation Contributors team</orgname>
			<address> <email>ubuntu@gunnar.cc</email> </address>
		  </affiliation>
		</author>

<!--		This is appropriate place for other contributors: translators,
		maintainers,  etc. -->

<!--		<othercredit role="translator">
		  <firstname>Latin</firstname>
		  <surname>Translator 1</surname>
		  <affiliation>
			<orgname>Latin Translation Team</orgname>
			<address> <email>translator@gnome.org</email> </address>
		  </affiliation>
		  <contrib>Latin translation</contrib>
		</othercredit> -->

	</authorgroup>

	<legalnotice>
		<title>License</title>

		  <para>This document is made available under the Creative Commons ShareAlike 2.5 License (CC-BY-SA).</para>

		  <para>You are free to modify, extend, and improve the Ubuntu documentation source code under the terms of this license. All derivative works must be released under this license.</para>

		  <para>This documentation is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE AS DESCRIBED IN THE DISCLAIMER.</para>

		  <para>A copy of the license is available here: <ulink url="/usr/share/ubuntu-docs/libs/C/ccbysa.xml">Creative Commons ShareAlike License</ulink>.</para>

	</legalnotice>

	<copyright>
		<year>2011</year>
		<holder>&canonical-name;</holder>
	</copyright>

</articleinfo>

<!-- ============== Document Body ============================= -->

<tip>

	<para>If you look for specific context help, you may want to go directly to the section <ulink type="help" url="ghelp:language-selector#support-tool"><application>Language Support</application> Tool</ulink>.</para>

</tip>

<!-- ============== Introduction ============================== -->

<sect1 id="introduction">
	<title>Introduction</title>

	<para>While English is the original language, Ubuntu has been translated to a large number of languages, and the translations are updated continuously by the community of translation teams around the world. As a result, most Ubuntu users can have menus and windows be displayed in their language of choice.</para>

</sect1>

<!-- ============ gettext Language Handling =================== -->

<sect1 id="lang-handling">
	<title>gettext Language Handling</title>

	<para>Ubuntu uses the <application><ulink url="http://www.gnu.org/software/gettext/gettext.html">GNU gettext</ulink></application> technology to deal with languages and related matters. One GNU specific feature is the <emphasis>language priority list</emphasis> (which is hold by the <command>LANGUAGE</command> environment variable). A couple of advantages and limitations with the priority list are described below.</para>

	<sect2 id="priority-list">
		<title>Language Priority List</title>

		<para>Not all messages have been translated into all the available languages at each point of time. To deal with that, Ubuntu lets you set more than one language in your order of preference. As an example, this is what the list of a German user might look like:</para>

		<itemizedlist>
		  <listitem><para>German</para></listitem>
		  <listitem><para>Spanish (Spain)</para></listitem>
		  <listitem><para>English</para></listitem>
		</itemizedlist>

		<para>If there is no German translation of a message, Ubuntu will try Spanish, and if no Spanish translation of the message is available either, it will be displayed in English.</para>

		<para>English is always available as a fallback to users who prefer a language other than English. Thus setting multiple fallback languages makes a difference if:</para>

		<orderedlist>
		  <listitem><para>a non-English language is your first choice,</para></listitem>
		  <listitem><para>the translations into that language are not complete, and</para></listitem>
		  <listitem><para>you prefer one or more non-English fallback languages.</para></listitem>
		</orderedlist>

	</sect2>

	<sect2 id="non-gnu">
		<title>Non-GNU Applications</title>

		<para>Besides incomplete translations, there is another caveat worth mentioning: Some applications, especially non-GNU applications such as <application>Mozilla Firefox</application>, do not honor the priority list feature. To display menus and windows of those applications in the first choice language, Ubuntu ensures that the value of the <command>LC_MESSAGES</command> environment variable matches that language.</para>

		<note>
		  <para>Unless set explicitly, <command>LC_MESSAGES</command> inherits the <command>LANG</command> value. Consequently, if <command>LANG</command> does not correspond with the first choice language, Ubuntu sets <command>LC_MESSAGES</command> explicitly. However, this will make <command>LC_MESSAGES</command> be exported if you connect to some other computer via <application>ssh</application>, which might mess up the language environment there. You may want to avoid that side effect by unsetting <command>LC_MESSAGES</command> before running the <application>ssh</application> command:</para>

		  <para><code>unset LC_MESSAGES; ssh username@host</code></para>
		</note>

	</sect2>

</sect1>

<!-- ================ Language Support Tool =============== -->

<sect1 id="support-tool">
	<title><application>Language Support</application> Tool</title>

	<para>The desired display language(s) and related settings can be set from the <application>Language Support</application> tool. You open it by choosing:</para>

	<para>&language-support;</para>

	<para>There are both system wide and user specific settings. The controls for system wide settings are the <guibutton>Apply System Wide</guibutton> buttons and the <guibutton>Install / Remove Languages...</guibutton> button. Those controls are only available to users with access to administer the system; to other users they are greyed out.</para>

	<para>The <guilabel>Language Support</guilabel> window includes two tabs: <guilabel>Language</guilabel> and <guilabel>Regional Formats</guilabel>.</para>

	<sect2 id="lang-tab">
		<title>Language</title>

		<para>The box <guilabel>Language for menus and windows</guilabel> contains items representing the translations that are available on the system. The current <ulink type="help" url="ghelp:language-selector#priority-list">language priority list</ulink> consists of the first items with black characters. Below, displayed in grey, are the other available translations. To add a translation to the language list, you pick a greyed item and drag it upwards to a position above the <quote>English</quote> item.</para>

		<para>By clicking the <guibutton>Apply System-Wide</guibutton> button, the system language list is set to the same items as your own current list. The system language setting controls the display language at startup and on the login screen. It also serves as the default language when a new user logs in for the first time.</para>

		<para>The button <guibutton>Install / Remove Languages...</guibutton> opens the <guilabel>Installed Languages</guilabel> window with a list of all the languages that can be downloaded and installed on the system. Currently available languages are the checked items in the list. To install a new language, you check it in the list and click the <guibutton>Apply Changes</guibutton> button. That will download and install both the language's translations and other related components if any.</para>

		<para>To type certain languages, such as Chinese, Japanese or Korean, a more complex input method than just a simple key to character mapping is required. There is a <guilabel>Keyboard input method system</guilabel> drop-down list to make this selection, and the recommended value for Ubuntu is <quote>ibus</quote>. If you want to use alternative input method systems, <ulink type="help" url="ghelp:add-applications#installing">install</ulink> the corresponding packages first and then choose the desired system from the drop-down list.</para>

	</sect2>

	<sect2 id="format-tab">
		<title>Regional Formats</title>

		<para>Typically there are country or region based conventions for how numbers, date and time, currency, etc. are denoted, and each item in the drop-down list at the top of the <guilabel>Regional Formats</guilabel> tab represents a set of format rules. If you change the setting, examples of what the new setting results in are instantly shown at the bottom of the tab.</para>

		<note>
		  <para>While this setting populates the <command>LANG</command> environment variable, it is actually the <command>LC_NUMERIC</command>, <command>LC_TIME</command> and <command>LC_MONETARY</command> variables that control how numbers, dates respective currency are formated. As long as the latter variables are not set explicitly, they inherit the <command>LANG</command> value, and the displayed format examples are applicable. However, to the extent one or more of those variables have been set explicitly (see <ulink type="help" url="ghelp:language-selector#format-advanced">Advanced Format Settings</ulink>), the displayed examples do not reflect the formats that will actually be applied.</para>
		</note>

		<para>By clicking the <guibutton>Apply System-Wide</guibutton> button, the system value is set out from your own current setting. The system format setting controls the display formats at startup and on the login screen. It also serves as a default value for users who have not set a user format setting.</para>

	</sect2>

</sect1>

<!-- =============== Login Screen ============================= -->

<sect1 id="login-screen">
	<title>Login Screen</title>

	<para>The Ubuntu login screen provides an alternative control for setting the user language. It is visible only when a user has been selected.</para>

	<para>Unlike the <guilabel>Language</guilabel> tab in <application>Language Support</application>, the language control on the login screen does not let you compose a complete <ulink type="help" url="ghelp:language-selector#priority-list">priority list</ulink>. Instead the one language you select is prepended to the previous list.</para>

</sect1>

<!-- ============= Advanced Format Settings =================== -->

<sect1 id="format-advanced">
	<title>Advanced Format Settings</title>

	<para>The <application><ulink type="help" url="ghelp:language-selector#support-tool">Language Support</ulink></application> method for setting regional formats assumes that one language-country combination (<ulink url="http://en.wikipedia.org/wiki/Locale">locale</ulink>) is sufficient to set all the format aspects in accordance with your preferences. Even if that is often the case, situations when you want more fine tuned format settings may occur. For such a case, below are some variables that you may want to assign other locale names than what else would have been inherited from the <command>LANG</command> variable. You can do so by editing the <filename>.profile</filename> configuration file in your home folder.</para>

	<variablelist>

		<varlistentry>
		  <term><command>LC_CTYPE</command></term>
		  <listitem><para>How characters are classified as letters, numbers etc. This determines things like how characters are converted between upper and lower case.</para></listitem>
		</varlistentry>

		<varlistentry>
		  <term><command>LC_NUMERIC</command></term>
		  <listitem><para>How you format your numbers. For example, in many countries a point is used as a decimal separator, while others use a comma.</para></listitem>
		</varlistentry>

		<varlistentry>
		  <term><command>LC_TIME</command></term>
		  <listitem><para>How your time and date are formatted.</para></listitem>
		</varlistentry>

		<varlistentry>
		  <term><command>LC_COLLATE</command></term>
		  <listitem><para>How strings (file names...) are alphabetically sorted.</para></listitem>
		</varlistentry>

		<varlistentry>
		  <term><command>LC_MONETARY</command></term>
		  <listitem><para>What currency you use, its name, and its symbol.</para></listitem>
		</varlistentry>

	</variablelist>

	<para><ulink url="https://help.ubuntu.com/community/Locale">Click here</ulink> for more <command>LC_*</command> variables with explanations.</para>

	<para><emphasis role="strong">An Example</emphasis></para>

	<para>Take a user in the US who choose <quote>English (United States)</quote> in the drop-down list on the <ulink type="help" url="ghelp:language-selector#format-tab">Regional Formats</ulink> tab. If s/he prefers that dates and times are displayed more like what <ulink url="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601</ulink> prescribes than what's typically the case in the US, the below line may be added to the <filename>.profile</filename> file:</para>

	<para><code>export LC_TIME="en_DK.UTF-8"</code></para>

	<note>
		<para>The side effect of setting the <command>LC_MESSAGES</command> variable explicitly, as described in the <ulink type="help" url="ghelp:language-selector#format-tab">Regional Formats</ulink> section, is applicable to explicitly setting other <command>LC_*</command> variables as well.</para>
	</note> 

</sect1>

</article>

